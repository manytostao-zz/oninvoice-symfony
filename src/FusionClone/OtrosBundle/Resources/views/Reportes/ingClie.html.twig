{% extends '::frontend.html.twig' %}
{% block header %}
    <section class="header-content">
        <h1 class="pull-left" style="position: relative">Ingresos por Cliente
        </h1>
        {{ form_start(dateForm) }}
        <div class="pull-right">
            {{ form_widget(dateForm.Ejecutar) }}
        </div>

        <div class="row">
            <div class="col-md-10">
                <br/>

                <div class="col-sm-6">
                    <div class="form-group">
                        <div class="col-sm-12">
                            <div class="col-sm-2">A&ntilde;o:
                            </div>
                            <div class="col-sm-4">
                                {{ form_widget(dateForm.anno) }}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        {{ form_end(dateForm) }}
        <div class="clearfix"></div>

    </section>
{% endblock %}
{% block body %}
    <section class="main-content">
    <div class="row">
    <div class="col-lg-12">
    <div class="panel panel-default">
    <div class="panel-body">
    <div class="dataTables_wrapper form-inline no-footer" id="datatable1_wrapper">
    {% if ingsClie is defined %}
        <div class="table-responsive">
        <table role="grid" id="clientestable"
               class="table table-striped table-hover dataTable no-footer">
            <thead>
            <tr role="row">
                <th>Cliente
                </th>
                <th>Ene
                </th>
                <th>Feb
                </th>
                <th>Mar
                </th>
                <th>Abr
                </th>
                <th>May
                </th>
                <th>Jun
                </th>
                <th>Jul
                </th>
                <th>Ago
                </th>
                <th>Sep
                </th>
                <th>Oct
                </th>
                <th>Nov
                </th>
                <th>Dic
                </th>
                <th>Total
                </th>
            </tr>
            </thead>
            {% for ingClie in ingsClie %}
                <tbody>
                <tr role="row">
                    <td>{{ ingClie.factura.cliente }}
                    </td>
                    <td>{% if app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                        {% if desglose[ingClie.factura.cliente.nombre][1] is defined %}
                            {{ desglose[ingClie.factura.cliente.nombre][1]|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% else %}
                            {{ 0|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% endif %}
                        {% if not app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                    </td>
                    <td>{% if app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                        {% if desglose[ingClie.factura.cliente.nombre][2] is defined %}
                            {{ desglose[ingClie.factura.cliente.nombre][2]|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% else %}
                            {{ 0|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% endif %}
                        {% if not app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                    </td>
                    <td>{% if app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                        {% if desglose[ingClie.factura.cliente.nombre][3] is defined %}
                            {{ desglose[ingClie.factura.cliente.nombre][3]|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% else %}
                            {{ 0|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% endif %}
                        {% if not app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                    </td>
                    <td>{% if app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                        {% if desglose[ingClie.factura.cliente.nombre][4] is defined %}
                            {{ desglose[ingClie.factura.cliente.nombre][4]|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% else %}
                            {{ 0|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% endif %}
                        {% if not app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                    </td>
                    <td>{% if app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                        {% if desglose[ingClie.factura.cliente.nombre][5] is defined %}
                            {{ desglose[ingClie.factura.cliente.nombre][5]|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% else %}
                            {{ 0|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% endif %}
                        {% if not app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                    </td>
                    <td>{% if app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                        {% if desglose[ingClie.factura.cliente.nombre][6] is defined %}
                            {{ desglose[ingClie.factura.cliente.nombre][6]|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% else %}
                            {{ 0|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% endif %}
                        {% if not app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                    </td>
                    <td>{% if app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                        {% if desglose[ingClie.factura.cliente.nombre][7] is defined %}
                            {{ desglose[ingClie.factura.cliente.nombre][7]|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% else %}
                            {{ 0|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% endif %}
                        {% if not app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                    </td>
                    <td>{% if app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                        {% if desglose[ingClie.factura.cliente.nombre][8] is defined %}
                            {{ desglose[ingClie.factura.cliente.nombre][8]|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% else %}
                            {{ 0|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% endif %}
                        {% if not app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                    </td>
                    <td>{% if app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                        {% if desglose[ingClie.factura.cliente.nombre][9] is defined %}
                            {{ desglose[ingClie.factura.cliente.nombre][9]|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% else %}
                            {{ 0|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% endif %}
                        {% if not app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                    </td>
                    <td>{% if app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                        {% if desglose[ingClie.factura.cliente.nombre][10] is defined %}
                            {{ desglose[ingClie.factura.cliente.nombre][10]|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% else %}
                            {{ 0|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% endif %}
                        {% if not app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                    </td>
                    <td>{% if app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                        {% if desglose[ingClie.factura.cliente.nombre][11] is defined %}
                            {{ desglose[ingClie.factura.cliente.nombre][11]|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% else %}
                            {{ 0|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% endif %}
                        {% if not app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                    </td>
                    <td>{% if app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                        {% if desglose[ingClie.factura.cliente.nombre][12] is defined %}
                            {{ desglose[ingClie.factura.cliente.nombre][12]|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% else %}
                            {{ 0|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                        {% endif %}
                        {% if not app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                            {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                        {% endif %}
                    </td>
                    <td><strong>{% if app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                                {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                            {% endif %}
                            {% if desglose[ingClie.factura.cliente.nombre]['total'] is defined %}
                                {{ desglose[ingClie.factura.cliente.nombre]['total']|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                            {% else %}
                                {{ 0|number_format(3, app.session.get('MONEDA_BASE')[0].signdecimal, app.session.get('MONEDA_BASE')[0].signmillares) }}
                            {% endif %}
                            {% if not app.session.get('MONEDA_BASE')[0].ubicasimbol %}
                                {{ app.session.get('MONEDA_BASE')[0].simbolo }}
                            {% endif %}</strong>
                    </td>
                </tr>
                </tbody>
            {% endfor %}

        </table>
        </div>
    {% endif %}
    {% if paginador is defined %}
        <div class="row">
            <div class="col-xs-6">
                <div aria-live="polite" role="status" id="datatable1_info"
                     class="dataTables_info">
                    Mostrando {{ paginador.EndPageItem - paginador.StartPageItem + 1 }}
                    de {{ paginador.TotalItems }} registros
                </div>
            </div>
            <div class="col-xs-6">
                <div id="datatable1_paginate" class="dataTables_paginate paging_simple_numbers">
                    <ul class="pagination">
                        {% if paginador.CurrentPage > 1 %}
                            <li class="paginate_button previous"><a
                                        href="{{ path('facturas_homepage', { 'page': paginador.previousPage, 'status': status
                                        }) }}">Anterior</a>
                            </li>
                        {% else %}
                            <li class="paginate_button previous disabled"><span>Anterior</span>
                            </li>
                        {% endif %}
                        {% for page in paginador.minPageInRange..paginador.maxPageInRange %}
                            {% if page == paginador.currentPage %}
                                <li class="paginate_button active">
                                    <span class="active">{{ page }}</span>
                                </li>
                            {% else %}
                                <li class="paginate_button">
                                    <a href="{{ path('facturas_homepage', { 'page': page , 'status': status}) }}">{{ page }}</a>
                                </li>
                            {% endif %}
                        {% endfor %}
                        {% if paginador.currentPage < paginador.lastPage %}
                        <li class="paginate_button next">
                            <a href="{{ path('facturas_homepage', { 'page': paginador.nextPage, 'status': status }) }}">Siguiente</a>
                        </li>
                        {% else %}
                        <li class="paginate_button next disabled"><span>Siguiente</span>
                            {% endif %}
                    </ul>
                </div>
            </div>
        </div>
    {% endif %}
    </div>
    </div>
    </div>
    </div>


    </div>

    </section>
{% endblock %}